function initScene(){scene=new THREE.Scene,(camera=new THREE.PerspectiveCamera(15,WIDTH/HEIGHT,.1,2e3)).position.z=200,(renderer=new THREE.WebGLRenderer({antialias:!0})).setClearColor(BG_COLOR),renderer.setPixelRatio(PIXEL_RATIO),renderer.setSize(WIDTH,HEIGHT),container=document.getElementById("scene"),container.appendChild(renderer.domElement),(controls=new THREE.OrbitControls(camera,renderer.domElement)).enableDamping=!0,controls.dampingFactor=.1,controls.rotateSpeed=.15,controls.enableZoom=!1,controls.enablePan=!1,scene.add(camera);var i=new THREE.DirectionalLight(16777215,1),o=new THREE.AmbientLight(8947848);scene.add(i),scene.add(o),walls=new THREE.Mesh(new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({wireframe:!0,color:11184810})),scene.add(walls);var e=new THREE.ConeGeometry(.5,2,6);e.rotateX(Math.PI/2);for(var t=new THREE.MeshPhongMaterial({color:3121622}),n=0;n<BOID_COUNT;n++)(boid=boids[n]=new Boid).position.x=100*Math.random()-50,boid.position.y=100*Math.random()-50,boid.position.z=100*Math.random()-50,boid.velocity.x=2*Math.random()-1,boid.velocity.y=2*Math.random()-1,boid.velocity.z=2*Math.random()-1,fish[n]=new THREE.Mesh(e,t),scene.add(fish[n]);loop()}function loop(){controls.update(),render(),requestAnimationFrame(loop)}function render(){for(var i=0;i<boids.length;i++){(boid=boids[i]).move(boids),fish[i].position.copy(boid.position);var o=new THREE.Vector3;o.copy(fish[i].position).add(boid.velocity),fish[i].lookAt(o)}renderer.render(scene,camera)}function updateScene(){walls.visible=props.showWalls,walls.scale.set(2*props.xRange,2*props.yRange,2*props.zRange),Boid.update(props)}function updateSize(){WIDTH=window.innerWidth,HEIGHT=window.innerHeight,PIXEL_RATIO=window.devicePixelRatio||1,camera.aspect=WIDTH/HEIGHT,camera.updateProjectionMatrix(),renderer.setPixelRatio(PIXEL_RATIO),renderer.setSize(WIDTH,HEIGHT)}var Boid=function(){this.position=new THREE.Vector3,this.velocity=new THREE.Vector3,this.acceleration=new THREE.Vector3,this.move=function(i){this.acceleration.add(this.cohesion(i)),this.acceleration.add(this.separation(i)),this.acceleration.add(this.alignment(i)),this.acceleration.add(this.avoidWalls()),this.velocity.add(this.acceleration),this.acceleration.set(0,0,0),this.limitVelocity(),this.position.add(this.velocity)},this.limitVelocity=function(){this.velocity.length()>Boid.MAX_VELOCITY&&this.velocity.normalize().multiplyScalar(Boid.MAX_VELOCITY)},this.cohesion=function(i){for(var o=0,e=new THREE.Vector3,t=0;t<i.length;t++){var n=i[t].position.distanceTo(this.position);n>0&&n<=Boid.NEIGHBOR_RADIUS&&(e.add(i[t].position),o++)}if(o>0){return e.divideScalar(o).sub(this.position).multiplyScalar(Boid.COHESION_MULTIPLIER)}return new THREE.Vector3},this.separation=function(i){for(var o=new THREE.Vector3,e=new THREE.Vector3,t=0;t<i.length;t++){var n=i[t].position.distanceTo(this.position);n>0&&n<=Boid.SEPARATION_RADIUS&&(e.subVectors(this.position,i[t].position),e.normalize(),e.divideScalar(n),o.add(e),0)}return o.multiplyScalar(Boid.SEPARATION_MULTIPLIER)},this.alignment=function(i){for(var o=0,e=new THREE.Vector3,t=0;t<i.length;t++){var n=i[t].position.distanceTo(this.position);n>0&&n<=Boid.NEIGHBOR_RADIUS&&(e.add(i[t].velocity),o++)}if(o>0){return e.divideScalar(o).multiplyScalar(Boid.ALIGNMENT_MULTIPLIER)}return new THREE.Vector3},this.avoid=function(i){var o=new THREE.Vector3;return o.subVectors(this.position,i),o.multiplyScalar(1/(4*this.position.distanceToSquared(i))),o},this.avoidWalls=function(){var i=new THREE.Vector3;return i.add(this.avoid(new THREE.Vector3(-Boid.X_RANGE,this.position.y,this.position.z))),i.add(this.avoid(new THREE.Vector3(Boid.X_RANGE,this.position.y,this.position.z))),i.add(this.avoid(new THREE.Vector3(this.position.x,-Boid.Y_RANGE,this.position.z))),i.add(this.avoid(new THREE.Vector3(this.position.x,Boid.Y_RANGE,this.position.z))),i.add(this.avoid(new THREE.Vector3(this.position.x,this.position.y,-Boid.Z_RANGE))),i.add(this.avoid(new THREE.Vector3(this.position.x,this.position.y,Boid.Z_RANGE))),i.multiplyScalar(Boid.WALLS_MULTIPLIER)}};Boid.NEIGHBOR_RADIUS,Boid.SEPARATION_RADIUS,Boid.MAX_VELOCITY=.4,Boid.X_RANGE,Boid.Y_RANGE,Boid.Z_RANGE,Boid.COHESION_MULTIPLIER,Boid.SEPARATION_MULTIPLIER,Boid.ALIGNMENT_MULTIPLIER,Boid.WALLS_MULTIPLIER,Boid.update=function(i){Boid.NEIGHBOR_RADIUS=i.neighborRadius,Boid.SEPARATION_RADIUS=i.separationRadius,Boid.COHESION_MULTIPLIER=i.cohesion,Boid.SEPARATION_MULTIPLIER=i.separation,Boid.ALIGNMENT_MULTIPLIER=i.alignment,Boid.WALLS_MULTIPLIER=i.avoidWalls,Boid.X_RANGE=i.xRange,Boid.Y_RANGE=i.yRange,Boid.Z_RANGE=i.zRange};var scene,renderer,camera,controls,WIDTH=window.innerWidth,HEIGHT=window.innerHeight,PIXEL_RATIO=window.devicePixelRatio||1,BG_COLOR=1121325;props=new function(){this.neighborRadius=13,this.separationRadius=16,this.cohesion=.1,this.separation=.4,this.alignment=.1,this.avoidWalls=1,this.showWalls=!1,this.xRange=60,this.yRange=50,this.zRange=60};var walls,boid,BOID_COUNT=80,boids=[],fish=[];initScene(),updateScene(),window.onresize=updateSize;
//# sourceMappingURL=../../maps/three-orbit-controls.min.js.map

"use strict";function step1(e,s){e.addClass("animate-out"),setTimeout(function(){e.removeClass("animate-out is-showing").next().addClass("animate-in"),s.removeClass("is-active").next().addClass("is-active")},600),setTimeout(function(){e.next().removeClass("animate-in").addClass("is-showing")},1200)}function step3(e,s){e.parents(".modal-wrap").addClass("animate-up"),setTimeout(function(){$(".rerun-button").css("display","inline-block")},300)}var loader=document.getElementsByClassName("loader-container"),content=document.getElementsByClassName("content"),mainPageContainer=document.getElementsByClassName("main-page-container");setTimeout(function(){loader[0].style.display="none",loader[0].style.height="0",content[0].style.visibility="visible",content[0].style.height="100%",mainPageContainer[0].style.visibility="visible",mainPageContainer[0].style.height="200px"},850),$(".main-button").click(function(){$(this).parents(".slide").toggleClass("is-transitioned")}),$(".home").click(function(){$(this).parents(".slide").toggleClass("is-transitioned")}),$(".icon-list").click(function(){"dropdown-menu-disable"===$("#dropdown-menu-1").attr("class")?($("#dropdown-menu-1").addClass("dropdown-menu-enable"),$("#dropdown-menu-1").removeClass("dropdown-menu-disable")):($("#dropdown-menu-1").removeClass("dropdown-menu-enable"),$("#dropdown-menu-1").addClass("dropdown-menu-disable"))}),$(".login-text").click(function(){"dropdown-menu-disable"===$(this).find("li").attr("class")?($(".menu-2 li").addClass("dropdown-menu-enable"),$(".menu-2 li").removeClass("dropdown-menu-disable")):($(".menu-2 li").removeClass("dropdown-menu-enable"),$(".menu-2 li").addClass("dropdown-menu-disable"))}),$("nav a").click(function(){$("#dropdown-menu-1").removeClass("dropdown-menu-enable"),$("#dropdown-menu-1").addClass("dropdown-menu-disable"),$("nav a").removeClass("selected"),$(this).addClass("selected")}),$(".message-container .button").click(function(){var e=$(this).parents(".modal-body"),s=e.index(),n=$(".modal-header span").eq(s);0===s||1===s?step1(e,n):step3(e,n)}),$(".rerun-button").click(function(){$(".modal-wrap").removeClass("animate-up").find(".modal-body").first().addClass("is-showing").siblings().removeClass("is-showing"),$(".modal-header span").first().addClass("is-active").siblings().removeClass("is-active"),$(this).hide()}),$("#message-submit").click(function(e){var s=$("#name"),n=$("#email"),t=$("#message"),a=$(".alert");e.preventDefault(),$.ajax({type:"POST",url:"/send-message",data:{name:s.val(),email:n.val(),message:t.val()},dataType:"json",cache:!0,success:function(e){e.success?(a.addClass("success"),a.html("<div>"+e.message+"</div>"),a.toggleClass("is-open"),setTimeout(function(){a.removeClass("success"),a.toggleClass("is-open")},4e3)):!1===e.success?(a.addClass("danger"),a.html("<div>"+e.message+"</div>"),a.toggleClass("is-open"),setTimeout(function(){a.removeClass("danger"),a.toggleClass("is-open")},4e3)):(a.addClass("danger"),a.html("<div>Message was not sent successfully.  Please try again.</div>"),a.toggleClass("is-open"),setTimeout(function(){a.removeClass("danger"),a.toggleClass("is-open")},4e3))}})}),function(e){var s=e(window);e.fn.visible=function(e,n,t){if(!(this.length<1)){var a=this.length>1?this.eq(0):this,i=a.get(0),o=s.width(),l=s.height(),d=(t=t||"both",!0!==n||i.offsetWidth*i.offsetHeight);if("function"==typeof i.getBoundingClientRect){var r=i.getBoundingClientRect(),m=r.top>=0&&r.top<l,u=r.bottom>0&&r.bottom<=l,c=r.left>=0&&r.left<o,g=r.right>0&&r.right<=o,p=e?m||u:m&&u,f=e?c||g:c&&g;if("both"===t)return d&&p&&f;if("vertical"===t)return d&&p;if("horizontal"===t)return d&&f}else{var C=s.scrollTop(),h=C+l,v=s.scrollLeft(),$=v+o,b=a.offset(),w=b.top,y=w+a.height(),T=b.left,k=T+a.width(),x=!0===e?y:w,B=!0===e?w:y,P=!0===e?k:T,j=!0===e?T:k;if("both"===t)return!!d&&h>=B&&x>=C&&$>=j&&P>=v;if("vertical"===t)return!!d&&h>=B&&x>=C;if("horizontal"===t)return!!d&&$>=j&&P>=v}}}}(jQuery);